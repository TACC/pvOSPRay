<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="description" content="pvOSPRay: a ParaView Module for the OSPRay Ray Tracer">
  <link rel="stylesheet" type="text/css" media="screen" href="./css/stylesheet.css">
  <title>pvOSPRay</title>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65516410-1', 'auto');
    ga('send', 'pageview');
  </script>
  <link rel="icon" type="image/png" href="./images/fiu192.png" sizes="192x192">
  <link rel="SHORTCUT ICON" href="./images/fiu32.ico">
  <style type="text/css"></style></head>

  <body>
    <div id="header">
      <div id="header-github">
        <a id="forkme-banner" href="https://github.com/TACC/pvOSPRay">View on GitHub</a>
      </div>
      <div id="header-title">pvOSPRay</div>
      <div id="header-subtitle">A ParaView Module for the OSPRay Ray Tracer</div>
      <div id="header-navbar">
        <ul>
          <li><a href="http://tacc.github.io/pvOSPRay/index.html">Overview</a></li>
          <li><a href="http://tacc.github.io/pvOSPRay/demos.html">Demos</a></li>
          <li><a href="http://tacc.github.io/pvOSPRay/gallery.html">Gallery</a></li>
          <li><a href="http://tacc.github.io/pvOSPRay/getting_pvospray.html">Getting pvOSPRay</a></li>
          <li><a href="https://github.com/TACC/pvOSPRay/wiki">Wiki</a></li>
          <li><a href="https://tacc.github.io/pvOSPRay/release_notes.html">Release Notes</a></li>
          <li><a href="http://tacc.github.io/pvOSPRay/related_projects.html">Related Projects</a></li>
        </ul>
      </div>
      <div id="header-spacing"></div> 
    </div>

    <div id="content-wrap">
      <div id="content">

<h1>Getting pvOSPRay</h1>

<a name="TACC">
<h2>Using pvOSPRay at TACC</h2>

<p>Modules are provided for running on TACC's Stampede and Maverick clusters.  A system wide release is planned, but for now module files must of custom loaded with the below instructions. 
Note that the <code>$WORK</code> filesystem is shared between Stampede and Maverick (along with other TACC machines) so these steps will work for both machines.</p>
<ul>
<li><code>module use /work/01336/carson/opt/modulefiles</code></li>
<li><code>module load pvospray</code></li>
<li><code>vglrun paraview</code></li>
<li>the plugin should automatically be loaded. Click the "x" on the top right of the window to close the rendering, and select "OSPRay" to create a pvOSPRay rendering view.</li>
</ul>

<p>You can also use the <a href="http://openswr.org/">OpenSWR</a> library for efficient CPU-based rasterization of the non-ray-traced components. 
To do this, load the OpenSWR module and substitute it for the VirtualGL vglrun command.
</p>
<ul>
<li><code>module use /work/01336/carson/opt/modulefiles</code></li>
<li><code>module load paraview/4.3.1</code></li>
<li><code>module load swr</code></li>
<li><code>swr paraview</code></li>
</ul>


<a name="binary">
<div id="anchor-pad"></div>
<h2>Precompiled Binary Download Packages</h2>

<p>
Precompiled binaries for ParaView with built-in pvOSPRay support are available from our <a href="https://utexas.box.com/s/nt000dm2ra5nmzu8lrsuxxzhbfs1f3ma">box.com folder</a>. Releases are currently available for the following platforms:
<ul>
<li><a href="https://utexas.box.com/s/0mn7ghco8ty64fazir58d6oh00hkvl3b">Linux x86_64 (CentOS 6)</a></li>
</ul>
If you do not see your system listed, please see <a href="#source">Building pvOSPRay from Source</a> below. 
</p>
<p>
NOTE: the precompiled binary only supports serial execution. If you would like to use pvOSPRay in a parallel runtime via MPI, please compile from source using the instructions below.
</p>

<a name="source">
<div id="anchor-pad"></div>
<h2>Building pvOSPRay from Source</h2>

The latest pvOSPRay sources are always available at
the <a href="http://github.com/TACC/pvOSPRay">pvOSPRay GitHub
  repository</a>. The default "master" branch should always point to
the latest tested bugfix release.

<h3>Building with MPI</h3>
<p>
pvOSPRay supports parallel execution via MPI through the ParaView parallelization framework. To build the MPI-enabled version, enable both the pvOSPRay plugin build described below and the MPI build within ParaView. pvOSPRay has been tested with the following MPI stacks:
<ul>
<li><a href="https://software.intel.com/en-us/intel-mpi-library">Intel MPI Library</a></li>
<li><a href="http://mvapich.cse.ohio-state.edu/news/">MVAPICH2</a></li>
</ul>
pvOSPRay is likely to work under other stacks as well. If you have success using another stack, please <a href="https://github.com/TACC/pvOSPRay/issues">let us know</a>.
</p>

<h3>Prerequisites</h3>
<p>
pvOSPRay currently supports both Linux and Mac OSX (a Windows version will soon follow).
In addition, before you can build pvOSPRay you need the following prerequisites:
<ul>
<!--   <li>You can clone the latest vtkOSPRay sources via: <code>git clone https://github.com/TACC/vtkOSPRay.git</code></li> -->
  <li>Install OSPRay, following <a href="http://ospray.github.io/getting_ospray.html">these instructions</a>.</li>
  <li>OSPRay (and thus pvOSPRay) also heavily
  uses <a href="http://embree.github.io">Embree</a>; however, OSPRay
  directly includes its own copy of Embree, so a special installation
  of Embree is <em>not</em> required.</li>
</ul>
</p>

<h3> Building pvOSPRay</h3>
<p>
Note: the instructions below build pvOSPRay as part of a ParaView source build. Instructions to build pvOSPRay separately from ParaView will be posted soon.
</p>
<p>
Note: <a href="http://tacc.github.io/vtkOSPRay/">vtkOSPRay</a> is currently contained within pvOSPRay and will be built along with pvOSPRay as part of the ParaView build.
</p>
<ol>
  <li>Download ParaView 4.3 source from <a href="http://www.paraview.org/download/">www.paraview.org</a> (<a href="http://www.paraview.org/paraview-downloads/download.php?submit=Download&version=v4.3&type=source&os=all&downloadFile=ParaView-v4.3.1-source.tar.gz">click here to download</a>). Untar the source tree into a local directory. 
  We recommend putting the source tree in the same directory as OSPRay (i.e., ~/Projects/OSPRay and ~/Projects/ParaView).</li>
<li>Change to the ParaView Plugins directory: <br>
    <code>
      user@mymachine[~/Projects]: cd ParaView/Plugins
    </code>
    <br>
    Clone the pvOSPRay source into the plugins directory: <br>
    <code>
      user@mymachine[~/Projects/ParaView/Plugins]: <br>git clone https://github.com/TACC/pvOSPRay.git
    </code>
  </li>

  <li>Change to the ParaView root directory, create a build directory for the ParaView build, change to the build directory, then run CMake:<br>
    <code>
      user@mymachine[~/Projects/ParaView/Plugins]: cd ..
    </code>
    <br>
    <code>
      user@mymachine[~/Projects/ParaView]: mkdir build
    </code>
    <br>
    <code>
      user@mymachine[~/Projects/ParaView]: cd build
    </code>
    <br>
    <code>
      user@mymachine[~/Projects/ParaView/build]: ccmake ..
    </code>
  </li>

  <li>Inside CMake, 't'oggle advanced mode, then use '/' to search for the pvOSPRay plugin option PARAVIEW_BUILD_PLUGIN_pvOSPRay. Set this option to "ON", then 'c'onfigure. CMake should find OSPRay and copy the necessary configuration information from the OSPRay build. If OSPRay was not found, enter the OSPRay directory in OSPRAY_DIR and 'c'onfigure again. Once OSPRay is found and configuraiton is complete, 'g'enerate and exit.
  Once CMake exits, run 'make' from the command line:
    <br>
    <code>
      user@mymachine[~/Projects/ParaView/build]: make
    </code>
  </li>

  <li>This will build the pvOSPRay plugin as part of the ParaView build. You can test your version of pvOSPRay using any of the examples on the <a href="demos.html">pvOSPRay Demos and Examples</a> page. If this is your first time running pvOSPRay, we recommend the <a href="demos/walkthrough.html">Basic Walk-Through demo</a>.</li>
</ol>

<h2>Building pvOSPRay for Older ParaView Versions</h2>
<p>
  If you would like to build pvOSPRay for an older version of ParaView, please check for a branch for the particular version. If the version you wish to build does not exist, please <a href="https://github.com/TACC/pvOSPRay/issues">let us know</a>.
</p>

			</div>
		</div>

		<div id="footer">
			<a href="http://tacc.github.io/pvOSPRay/">http://tacc.github.io/pvOSPRay/</a>
		</div>

</body></html>
